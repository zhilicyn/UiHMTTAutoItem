<ns0:test-suite xmlns:ns0="urn:model.allure.qatools.yandex.ru" start="1578730940917" stop="1578731624336">
  <name>scripts</name>
  <labels/>
  <test-cases>
    <test-case start="1578730940917" status="failed" stop="1578731624336">
      <name>test06_app_article.TestAppArticle.test_app_article</name>
      <failure>
        <message>NoSuchElementException: Message: 已经最后一页了,找不到指定文章基于Android的黑马头条APP的设计与实现!
</message>
        <stack-trace>self = &lt;scripts.test06_app_article.TestAppArticle object at 0x04087210&gt;
channel = 'android'

    def test_app_article(self,channel=page.article_channel):
        # 查找文章组合业务方法
&gt;       self.app_article.page_app_article(channel)

scripts\test06_app_article.py:28: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
page\page_app_article.py:24: in page_app_article
    self.page_find_article()
page\page_app_article.py:19: in page_find_article
    self.app_base_down_to_up(page.app_article_area,page.article_title)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;page.page_app_article.PageAppArticle object at 0x0406B5B0&gt;
area_loc = ('xpath', "//*[@class='android.view.View' and @index='0' and @scrollable='true']")
find_text = '基于Android的黑马头条APP的设计与实现'

    def app_base_down_to_up(self, area_loc, find_text):
        # size = self.driver.get_window_size
        # 获取区域元素
        el1 = self.base_find(area_loc)
        # 获取区域位置
        location = el1.location
        y = location.get('y')
        # 获取元素宽高
        size = el1.size
        width = size['width']
        height = size['height']
        # 计算start_x,start_y.end_x,end_y
        start_x = width * 0.5
        start_y = y + height * 0.8
        end_x = width * 0.5
        end_y = y + height * 0.2
        # 组合find_text包含的元素定位信息
        loc = By.XPATH, "//*[contains(@text,'{}')]".format(find_text)
        # 获取当前页面元素结构
        page_source = self.driver.page_source
        while True:
            # 首先 查找一次当前页面是否存在要找的元素
            try:
                el2 = self.base_find(loc, timeout=3)
                log.info("找到指定的文章了")
                el2.click()
                # 跳出循环
                break
            except:
                log.info("当前页面没有找到指定文章!")
                # 滑动屏幕
                # self.driver.swipe(width * 0.5, height * 0.7, width * 0.5, height * 0.3, 2000)
                self.driver.swipe(start_x, start_y, end_x, end_y, 2000)
            if page_source == self.driver.page_source:
                log.info("滑不动了,已经是最后一页了")
&gt;               raise NoSuchElementException("已经最后一页了,找不到指定文章{}!".format(find_text))
E               selenium.common.exceptions.NoSuchElementException: Message: 已经最后一页了,找不到指定文章基于Android的黑马头条APP的设计与实现!

base\app_base.py:87: NoSuchElementException</stack-trace>
      </failure>
      <attachments>
        <attachment source="b89cdb16-13e0-4310-975f-67de4d8befd4-attachment.txt" title="Captured log setup" type="text/plain"/>
        <attachment source="49771a15-d4a7-4cf7-8fca-50c3dac14a2e-attachment.txt" title="Captured log call" type="text/plain"/>
      </attachments>
      <labels>
        <label name="severity" value="normal"/>
        <label name="thread" value="7240-MainThread"/>
        <label name="host" value="DESKTOP-MS0CJ66"/>
        <label name="framework" value="pytest"/>
        <label name="language" value="cpython3"/>
      </labels>
      <steps/>
    </test-case>
  </test-cases>
</ns0:test-suite>
